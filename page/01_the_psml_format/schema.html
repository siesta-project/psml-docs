<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="Library to handle Pseudopotential Markup Language files">
    <meta name="author" content="Alberto Garcia" >
    <link rel="icon" href="../../favicon.png">

    <title>Schema for PSML &ndash; libPSML</title>

    <link href="../../css/bootstrap.min.css" rel="stylesheet">
    <link href="../../css/pygments.css" rel="stylesheet">
    <link href="../../css/font-awesome.min.css" rel="stylesheet">
    <link href="../../css/local.css" rel="stylesheet">
      <link  href="../../tipuesearch/tipuesearch.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->

         <script src="../../js/jquery-2.1.3.min.js"></script>
         <script src="../../js/svg-pan-zoom.min.js"></script>

  </head>

  <body>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../../index.html">libPSML </a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
              <li><a href='../../page/index.html'>Overview</a></li>
            <li class="dropdown hidden-xs visible-sm visible-md hidden-lg">
              <a href="#" class="dropdown-toggle"
                 data-toggle="dropdown" role="button"
                 aria-haspopup="true"
                 aria-expanded="false">
                 Contents <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                    <li><a href="../../lists/files.html">Source Files</a></li>
                  <li><a href="../../lists/modules.html">Modules</a></li>
                  <li><a href="../../lists/procedures.html">Procedures</a></li>
                  <li><a href="../../lists/types.html">Derived Types</a></li>
                  <li><a href="../../program/test_assoc.html">Program</a></li>
              </ul>
            </li>
                <li class="visible-xs hidden-sm visible-lg">
                  <a href="../../lists/files.html">Source Files</a>
                </li>
              <li class="visible-xs hidden-sm visible-lg">
                <a href="../../lists/modules.html">Modules</a>
              </li>
              <li class="visible-xs hidden-sm visible-lg">
                <a href="../../lists/procedures.html">Procedures</a>
              </li>
              <li class="visible-xs hidden-sm visible-lg">
                <a href="../../lists/types.html">Derived Types</a>
              </li>
              <li class="visible-xs hidden-sm visible-lg">
                <a href="../../program/test_assoc.html">Program</a>
              </li>
          </ul>
            <form action="../../search.html" class="navbar-form navbar-right" role="search">
              <div class="form-group">
                <input type="text" class="form-control" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
              </div>
              <!--
                  <button type="submit" class="btn btn-default">Submit</button>
                  -->
            </form>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
  <div class="row">
    <h1>Schema for PSML</h1>
    <div class="row">
    <div class="col-lg-12">
    <div class="well well-sm" style="min-height: 40px;">
      <ul class="list-inline" style="margin-bottom:0px; display:inline">
<!--
-->
      </ul>
        <ol class="breadcrumb in-well">
         <li><a href='../../page/index.html'>Overview</a></li>
         <li><a href='../../page/01_the_psml_format/index.html'>PSML description</a></li>
         <li class="active">Schema for PSML</li>
      </ol>
    </div>
    </div>
    </div>
  </div>
  
  <div class="row">
    <div class="col-md-9 col-md-push-3" id='text'>
      <div class="codehilite"><pre><span></span><code><span class="c1">#</span>
<span class="c1"># Schema for PSML format</span>
<span class="c1"># RELAX-NG compact form. See: http://www.relaxng.org/compact-tutorial-20030326.htm</span>
<span class="c1">#</span>
<span class="c1"># This form can be processed by the jing/trang set of tools, available from</span>
<span class="c1">#   https://github.com/relaxng/jing-trang</span>
<span class="c1">#</span>
<span class="c1"># The &#39;jing&#39; validator can work directly with this .rnc file (RELAX-NG compact form),</span>
<span class="c1"># and this is the preferred option.</span>
<span class="c1">#</span>
<span class="c1"># The &#39;trang&#39; converter can be used to generate other schema forms, such as:</span>
<span class="c1">#</span>
<span class="c1">#     .rng (RELAX-NG xml form), .xsd (XML Schema)</span>
<span class="c1">#</span>
<span class="c1"># But note that some features of RELAX-NG cannot be completely represented by XML Schema</span>
<span class="c1"># schema files. In particular, in this file, the &#39;arbitrary attribute&#39; idiom in the</span>
<span class="c1"># &#39;annotation&#39; element is emulated.</span>
<span class="c1">#</span>

<span class="n">default</span> <span class="n">namespace</span> <span class="o">=</span> <span class="s2">&quot;http://esl.cecam.org/PSML/ns/1.1&quot;</span>

<span class="n">start</span> <span class="o">=</span> <span class="n">PSML</span>

<span class="n">PSML</span> <span class="o">=</span>  <span class="n">element</span> <span class="n">psml</span> <span class="p">{</span> 
            <span class="n">Root</span><span class="o">.</span><span class="n">Attributes</span>         
          <span class="p">,</span> <span class="n">Provenance</span><span class="o">+</span>             <span class="c1"># One or more provenance elements</span>
          <span class="p">,</span> <span class="n">PseudoAtomSpec</span>          
          <span class="p">,</span> <span class="n">Grid</span><span class="err">?</span>                   <span class="c1"># Optional top-level grid</span>
          <span class="p">,</span> <span class="n">ValenceCharge</span>           
          <span class="p">,</span> <span class="n">CoreCharge</span><span class="err">?</span>             <span class="c1"># Optional pseudo-core charge</span>
        <span class="p">,</span> <span class="p">(</span>
             <span class="p">(</span><span class="n">SemiLocalPotentials</span><span class="o">+</span> <span class="p">,</span> <span class="n">PSOperator</span><span class="err">?</span><span class="p">)</span>
             <span class="o">|</span>
             <span class="p">(</span><span class="n">SemiLocalPotentials</span><span class="o">*</span> <span class="p">,</span> <span class="n">PSOperator</span> <span class="p">)</span>
          <span class="p">)</span>
          <span class="p">,</span> <span class="n">PseudoWaveFunctions</span><span class="o">*</span>          <span class="c1"># Zero or more Pseudo Wavefunction groups</span>
       <span class="p">}</span>  

<span class="c1">#</span>
<span class="c1"># Definitions of the above grammar symbols follow</span>

<span class="c1">#</span>
<span class="n">Root</span><span class="o">.</span><span class="n">Attributes</span> <span class="o">=</span>  <span class="n">attribute</span> <span class="n">energy_unit</span> <span class="p">{</span> <span class="s2">&quot;hartree&quot;</span> <span class="p">}</span>
                 <span class="p">,</span> <span class="n">attribute</span> <span class="n">length_unit</span> <span class="p">{</span> <span class="s2">&quot;bohr&quot;</span> <span class="p">}</span>
                 <span class="p">,</span> <span class="n">attribute</span> <span class="n">uuid</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">NMTOKEN</span> <span class="p">}</span>
                 <span class="p">,</span> <span class="n">attribute</span> <span class="n">version</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">decimal</span> <span class="p">}</span>

<span class="c1"># =========</span>
<span class="n">Provenance</span> <span class="o">=</span>  <span class="n">element</span> <span class="n">provenance</span> <span class="p">{</span>
                <span class="n">attribute</span> <span class="n">record</span><span class="o">-</span><span class="n">number</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">positiveInteger</span><span class="p">}</span><span class="err">?</span>
              <span class="p">,</span> <span class="n">attribute</span> <span class="n">creator</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">string</span> <span class="p">}</span>
              <span class="p">,</span> <span class="n">attribute</span> <span class="n">date</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">string</span> <span class="p">}</span>

              <span class="p">,</span> <span class="n">Annotation</span><span class="err">?</span>
          <span class="p">,</span> <span class="n">InputFile</span><span class="o">*</span>    <span class="c1"># zero or more input files</span>
              <span class="p">}</span>

<span class="n">InputFile</span> <span class="o">=</span>  <span class="n">element</span> <span class="nb">input</span><span class="o">-</span><span class="n">file</span> <span class="p">{</span>
               <span class="n">attribute</span> <span class="n">name</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">NMTOKEN</span> <span class="p">},</span> <span class="c1"># No spaces or commas allowed</span>
               <span class="n">text</span>
             <span class="p">}</span>

<span class="c1"># =========</span>
<span class="n">PseudoAtomSpec</span> <span class="o">=</span>  <span class="n">element</span> <span class="n">pseudo</span><span class="o">-</span><span class="n">atom</span><span class="o">-</span><span class="n">spec</span> <span class="p">{</span>    <span class="n">PseudoAtomSpec</span><span class="o">.</span><span class="n">Attributes</span>
                                              <span class="p">,</span> <span class="n">Annotation</span><span class="err">?</span>
                                              <span class="p">,</span> <span class="n">ExchangeCorrelation</span>
                                      <span class="p">,</span> <span class="n">ValenceConfiguration</span>
                                              <span class="p">,</span> <span class="n">CoreConfiguration</span><span class="err">?</span>
                                           <span class="p">}</span>
<span class="c1"># =========</span>
<span class="n">PseudoAtomSpec</span><span class="o">.</span><span class="n">Attributes</span> <span class="o">=</span> 
       <span class="n">attribute</span> <span class="n">atomic</span><span class="o">-</span><span class="n">label</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">NMTOKEN</span> <span class="p">},</span>
       <span class="n">attribute</span> <span class="n">atomic</span><span class="o">-</span><span class="n">number</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">double</span> <span class="p">},</span>
       <span class="n">attribute</span> <span class="n">z</span><span class="o">-</span><span class="n">pseudo</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">double</span> <span class="p">},</span>
       <span class="n">attribute</span> <span class="n">core</span><span class="o">-</span><span class="n">corrections</span> <span class="p">{</span> <span class="s2">&quot;yes&quot;</span> <span class="o">|</span> <span class="s2">&quot;no&quot;</span> <span class="p">},</span>
       <span class="n">attribute</span> <span class="n">relativity</span> <span class="p">{</span> <span class="s2">&quot;no&quot;</span> <span class="o">|</span> <span class="s2">&quot;scalar&quot;</span> <span class="o">|</span> <span class="s2">&quot;dirac&quot;</span> <span class="p">},</span>
       <span class="n">attribute</span> <span class="n">spin</span><span class="o">-</span><span class="n">dft</span> <span class="p">{</span> <span class="s2">&quot;yes&quot;</span> <span class="o">|</span> <span class="s2">&quot;no&quot;</span> <span class="p">}</span><span class="err">?</span><span class="p">,</span>
       <span class="n">attribute</span> <span class="n">flavor</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">string</span> <span class="p">}</span><span class="err">?</span>

<span class="c1"># =========</span>
<span class="n">ExchangeCorrelation</span> <span class="o">=</span>  <span class="n">element</span> <span class="n">exchange</span><span class="o">-</span><span class="n">correlation</span> <span class="p">{</span>
                         <span class="n">Annotation</span><span class="err">?</span>
                         <span class="p">,</span> <span class="n">element</span> <span class="n">libxc</span><span class="o">-</span><span class="n">info</span> <span class="p">{</span>
                              <span class="n">attribute</span> <span class="n">number</span><span class="o">-</span><span class="n">of</span><span class="o">-</span><span class="n">functionals</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">positiveInteger</span> <span class="p">},</span>
                              <span class="n">LibxcFunctional</span><span class="o">+</span>
                           <span class="p">}</span>
                        <span class="p">}</span>

<span class="n">LibxcFunctional</span> <span class="o">=</span>   <span class="n">element</span> <span class="n">functional</span> <span class="p">{</span>
                      <span class="n">attribute</span> <span class="nb">id</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">positiveInteger</span> <span class="p">},</span>
                      <span class="n">attribute</span> <span class="n">name</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">string</span> <span class="p">},</span>
                      <span class="n">attribute</span> <span class="n">weight</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">double</span> <span class="p">}</span><span class="err">?</span><span class="p">,</span>

                      <span class="c1"># allow canonical names and libxc-style symbols</span>

                      <span class="n">attribute</span> <span class="nb">type</span> <span class="p">{</span> <span class="s2">&quot;exchange&quot;</span> <span class="o">|</span> <span class="s2">&quot;correlation&quot;</span> <span class="o">|</span> <span class="s2">&quot;exchange-correlation&quot;</span> <span class="o">|</span>
                                   <span class="s2">&quot;XC_EXCHANGE&quot;</span> <span class="o">|</span> <span class="s2">&quot;XC_CORRELATION&quot;</span> <span class="o">|</span>
                              <span class="s2">&quot;XC_EXCHANGE_CORRELATION&quot;</span> <span class="p">}</span><span class="err">?</span>
                    <span class="p">}</span>

<span class="c1"># =========</span>
<span class="n">ValenceConfiguration</span> <span class="o">=</span>  <span class="n">element</span> <span class="n">valence</span><span class="o">-</span><span class="n">configuration</span> <span class="p">{</span>
                          <span class="n">attribute</span> <span class="n">total</span><span class="o">-</span><span class="n">valence</span><span class="o">-</span><span class="n">charge</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">double</span> <span class="p">},</span>
                      <span class="n">Annotation</span><span class="err">?</span><span class="p">,</span>
                          <span class="n">ValenceShell</span><span class="o">+</span>
                        <span class="p">}</span>

<span class="n">ValenceShell</span> <span class="o">=</span>   <span class="n">Shell</span>

<span class="n">Shell</span> <span class="o">=</span>  <span class="n">element</span> <span class="n">shell</span> <span class="p">{</span>
           <span class="n">attribute_l</span><span class="p">,</span>
           <span class="n">attribute_n</span><span class="p">,</span>
           <span class="n">attribute</span> <span class="n">occupation</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">double</span> <span class="p">},</span>
           <span class="n">attribute</span> <span class="n">occupation</span><span class="o">-</span><span class="n">up</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">double</span> <span class="p">}</span><span class="err">?</span><span class="p">,</span>
           <span class="n">attribute</span> <span class="n">occupation</span><span class="o">-</span><span class="n">down</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">double</span> <span class="p">}</span><span class="err">?</span>
         <span class="p">}</span>

<span class="c1"># =========</span>
<span class="n">CoreConfiguration</span> <span class="o">=</span>  <span class="n">element</span> <span class="n">core</span><span class="o">-</span><span class="n">configuration</span> <span class="p">{</span>
                       <span class="n">attribute</span> <span class="n">total</span><span class="o">-</span><span class="n">core</span><span class="o">-</span><span class="n">charge</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">double</span> <span class="p">},</span>
                   <span class="n">Annotation</span><span class="err">?</span><span class="p">,</span>
               <span class="n">CoreShell</span><span class="o">+</span>
                     <span class="p">}</span>

<span class="n">CoreShell</span> <span class="o">=</span>   <span class="n">Shell</span>

<span class="c1"># =========</span>
<span class="n">ValenceCharge</span> <span class="o">=</span>  <span class="n">element</span> <span class="n">valence</span><span class="o">-</span><span class="n">charge</span> <span class="p">{</span>
                   <span class="n">attribute</span> <span class="n">total</span><span class="o">-</span><span class="n">charge</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">double</span> <span class="p">},</span>
                   <span class="n">attribute</span> <span class="ow">is</span><span class="o">-</span><span class="n">unscreening</span><span class="o">-</span><span class="n">charge</span> <span class="p">{</span> <span class="s2">&quot;yes&quot;</span> <span class="o">|</span> <span class="s2">&quot;no&quot;</span> <span class="p">}</span><span class="err">?</span><span class="p">,</span>
                   <span class="n">attribute</span> <span class="n">rescaled</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">z</span><span class="o">-</span><span class="n">pseudo</span> <span class="p">{</span> <span class="s2">&quot;yes&quot;</span> <span class="o">|</span> <span class="s2">&quot;no&quot;</span> <span class="p">}</span><span class="err">?</span><span class="p">,</span>
                   <span class="n">Annotation</span><span class="err">?</span><span class="p">,</span>
                   <span class="n">Radfunc</span>
                 <span class="p">}</span>  

<span class="c1"># =========</span>
<span class="n">CoreCharge</span> <span class="o">=</span>  <span class="n">element</span> <span class="n">pseudocore</span><span class="o">-</span><span class="n">charge</span> <span class="p">{</span>
                <span class="n">attribute</span> <span class="n">matching</span><span class="o">-</span><span class="n">radius</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">double</span> <span class="p">}</span><span class="err">?</span><span class="p">,</span>
                <span class="n">attribute</span> <span class="n">number</span><span class="o">-</span><span class="n">of</span><span class="o">-</span><span class="n">continuous</span><span class="o">-</span><span class="n">derivatives</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">nonNegativeInteger</span> <span class="p">}</span><span class="err">?</span><span class="p">,</span>
                <span class="n">Annotation</span><span class="err">?</span><span class="p">,</span>
                <span class="n">Radfunc</span>
              <span class="p">}</span>

<span class="c1"># =========</span>
<span class="n">SemiLocalPotentials</span> <span class="o">=</span>  <span class="n">element</span> <span class="n">semilocal</span><span class="o">-</span><span class="n">potentials</span> <span class="p">{</span>
                         <span class="n">attribute_set</span><span class="p">,</span>
                         <span class="n">attribute</span> <span class="n">flavor</span>  <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">string</span> <span class="p">}</span><span class="err">?</span><span class="p">,</span>
                         <span class="n">Annotation</span><span class="err">?</span><span class="p">,</span>
             <span class="n">Grid</span><span class="err">?</span><span class="p">,</span>
                         <span class="n">Potential</span><span class="o">+</span>
                        <span class="p">}</span>

<span class="n">Potential</span> <span class="o">=</span>   <span class="n">element</span> <span class="n">slps</span> <span class="p">{</span>
                <span class="n">attribute</span> <span class="n">flavor</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">string</span> <span class="p">}</span><span class="err">?</span><span class="p">,</span>
                <span class="n">attribute_l</span><span class="p">,</span>
                <span class="n">attribute_j</span> <span class="err">?</span><span class="p">,</span>
                <span class="n">attribute_n</span><span class="p">,</span>
                <span class="n">attribute</span> <span class="n">rc</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">double</span> <span class="p">},</span>
        <span class="n">attribute</span> <span class="n">eref</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">double</span> <span class="p">}</span><span class="err">?</span><span class="p">,</span>
                <span class="n">Radfunc</span>
              <span class="p">}</span>   

<span class="c1"># =========</span>
<span class="n">PSOperator</span> <span class="o">=</span>   <span class="p">(</span>   <span class="n">LocalPotential</span>            <span class="c1"># Local potential</span>
                 <span class="p">,</span> <span class="n">NonLocalProjectors</span><span class="o">*</span> <span class="p">)</span>     <span class="c1"># Zero or more fully nonlocal groups</span>


<span class="n">LocalPotential</span> <span class="o">=</span>  <span class="n">element</span> <span class="n">local</span><span class="o">-</span><span class="n">potential</span> <span class="p">{</span>
                    <span class="n">attribute</span> <span class="nb">type</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">string</span> <span class="p">},</span>
                    <span class="n">Annotation</span><span class="err">?</span><span class="p">,</span>
                    <span class="n">Grid</span><span class="err">?</span><span class="p">,</span>
                    <span class="n">Radfunc</span><span class="p">,</span>
            <span class="n">LocalCharge</span><span class="err">?</span>  <span class="c1"># Optional local-charge element</span>
                  <span class="p">}</span>

<span class="n">LocalCharge</span> <span class="o">=</span>  <span class="n">element</span> <span class="n">local</span><span class="o">-</span><span class="n">charge</span> <span class="p">{</span>
             <span class="n">Radfunc</span>
           <span class="p">}</span>

<span class="c1"># =========</span>
<span class="n">NonLocalProjectors</span> <span class="o">=</span>  <span class="n">element</span> <span class="k">nonlocal</span><span class="o">-</span><span class="n">projectors</span> <span class="p">{</span>
                        <span class="n">attribute_set</span><span class="p">,</span>
                        <span class="n">Annotation</span><span class="err">?</span><span class="p">,</span>
                        <span class="n">Grid</span><span class="err">?</span><span class="p">,</span>
                    <span class="n">Projector</span><span class="o">+</span>
                      <span class="p">}</span>

<span class="n">Projector</span> <span class="o">=</span>   <span class="n">element</span> <span class="n">proj</span> <span class="p">{</span>
                <span class="n">attribute</span> <span class="n">ekb</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">double</span> <span class="p">},</span>
                <span class="n">attribute</span> <span class="n">eref</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">double</span> <span class="p">}</span><span class="err">?</span><span class="p">,</span> 
                <span class="n">attribute_l</span><span class="p">,</span>
                <span class="n">attribute_j</span> <span class="err">?</span><span class="p">,</span>
                <span class="n">attribute</span> <span class="n">seq</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">positiveInteger</span> <span class="p">},</span>
                <span class="n">attribute</span> <span class="nb">type</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">string</span> <span class="p">},</span>
                <span class="n">Radfunc</span>
              <span class="p">}</span><span class="o">+</span>

<span class="c1"># =========</span>
<span class="n">PseudoWaveFunctions</span> <span class="o">=</span>  <span class="n">element</span> <span class="n">pseudo</span><span class="o">-</span><span class="n">wave</span><span class="o">-</span><span class="n">functions</span> <span class="p">{</span>
                         <span class="n">attribute_set</span><span class="p">,</span>
                         <span class="n">Annotation</span><span class="err">?</span><span class="p">,</span>
                         <span class="n">Grid</span><span class="err">?</span><span class="p">,</span>
                         <span class="n">PseudoWf</span><span class="o">+</span>
                       <span class="p">}</span>

<span class="n">PseudoWf</span> <span class="o">=</span>  <span class="n">element</span> <span class="n">pswf</span> <span class="p">{</span>
              <span class="n">attribute_l</span><span class="p">,</span>
              <span class="n">attribute_j</span> <span class="err">?</span><span class="p">,</span>
              <span class="n">attribute_n</span><span class="p">,</span>
              <span class="n">attribute</span> <span class="n">energy_level</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">double</span><span class="p">}</span> <span class="err">?</span><span class="p">,</span>
              <span class="n">Radfunc</span>
            <span class="p">}</span>

<span class="c1"># =========</span>
<span class="n">Grid</span> <span class="o">=</span>  <span class="n">element</span> <span class="n">grid</span> <span class="p">{</span>
          <span class="n">attribute</span> <span class="n">npts</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">positiveInteger</span> <span class="p">},</span>
          <span class="n">Annotation</span><span class="err">?</span><span class="p">,</span>
          <span class="n">element</span> <span class="n">grid</span><span class="o">-</span><span class="n">data</span> <span class="p">{</span>
                 <span class="nb">list</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">double</span><span class="o">+</span> <span class="p">}</span>   <span class="c1"># One or more floating point numbers</span>
          <span class="p">}</span>
        <span class="p">}</span>

<span class="c1"># =========</span>
<span class="n">Radfunc</span> <span class="o">=</span>  <span class="n">element</span> <span class="n">radfunc</span> <span class="p">{</span>
             <span class="n">Grid</span><span class="err">?</span><span class="p">,</span>              <span class="c1"># Optional grid element</span>
             <span class="n">element</span> <span class="n">data</span> <span class="p">{</span>      
               <span class="n">attribute</span> <span class="n">npts</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">positiveInteger</span> <span class="p">}</span><span class="err">?</span><span class="p">,</span>
               <span class="nb">list</span> <span class="p">{</span> <span class="n">xsd</span><span class="p">:</span><span class="n">double</span><span class="o">+</span> <span class="p">}</span>       <span class="c1"># One or more floating point numbers</span>
             <span class="p">}</span>
           <span class="p">}</span>

<span class="c1">#</span>
<span class="c1"># This is the way to leave the annotations</span>
<span class="c1"># as collections of one or more arbitrary attributes</span>
<span class="c1">#</span>
<span class="c1"># This RELAX NG idiom cannot be directly translated to W3C schema (xsd form),</span>
<span class="c1"># but a similar result could be obtained with the &lt;any&gt; and &lt;anyAttribute&gt; xsd elements</span>
<span class="c1">#</span>
<span class="n">any_attribute</span> <span class="o">=</span> <span class="n">attribute</span> <span class="o">*</span> <span class="p">{</span> <span class="n">text</span> <span class="p">}</span>
<span class="n">Annotation</span> <span class="o">=</span>  <span class="n">element</span> <span class="n">annotation</span> <span class="p">{</span> <span class="n">any_attribute</span><span class="o">+</span>  <span class="p">}</span>

<span class="c1">#</span>
<span class="c1"># Convenience enumeration definitions</span>
<span class="c1">#</span>
<span class="n">attribute_l</span> <span class="o">=</span> <span class="n">attribute</span> <span class="n">l</span> <span class="p">{</span> <span class="s2">&quot;s&quot;</span> <span class="o">|</span> <span class="s2">&quot;p&quot;</span> <span class="o">|</span> <span class="s2">&quot;d&quot;</span> <span class="o">|</span> <span class="s2">&quot;f&quot;</span> <span class="o">|</span> <span class="s2">&quot;g&quot;</span> <span class="p">}</span>
<span class="n">attribute_n</span> <span class="o">=</span> <span class="n">attribute</span> <span class="n">n</span> <span class="p">{</span> <span class="s2">&quot;1&quot;</span> <span class="o">|</span> <span class="s2">&quot;2&quot;</span> <span class="o">|</span> <span class="s2">&quot;3&quot;</span> <span class="o">|</span> <span class="s2">&quot;4&quot;</span> <span class="o">|</span> <span class="s2">&quot;5&quot;</span> <span class="o">|</span> <span class="s2">&quot;6&quot;</span> <span class="o">|</span> <span class="s2">&quot;7&quot;</span> <span class="o">|</span> <span class="s2">&quot;8&quot;</span> <span class="o">|</span> <span class="s2">&quot;9&quot;</span> <span class="p">}</span>
<span class="n">attribute_j</span> <span class="o">=</span> <span class="n">attribute</span> <span class="n">j</span> <span class="p">{</span> <span class="s2">&quot;0.5&quot;</span> <span class="o">|</span> <span class="s2">&quot;1.5&quot;</span> <span class="o">|</span> <span class="s2">&quot;2.5&quot;</span> <span class="o">|</span> <span class="s2">&quot;3.5&quot;</span> <span class="o">|</span> <span class="s2">&quot;4.5&quot;</span> <span class="p">}</span>

<span class="n">attribute_set</span> <span class="o">=</span> <span class="n">attribute</span> <span class="nb">set</span> <span class="p">{</span> <span class="s2">&quot;non_relativistic&quot;</span> <span class="o">|</span>
                                <span class="s2">&quot;scalar_relativistic&quot;</span> <span class="o">|</span> <span class="s2">&quot;spin_orbit&quot;</span> <span class="o">|</span> <span class="s2">&quot;lj&quot;</span> <span class="o">|</span>
                <span class="s2">&quot;up&quot;</span> <span class="o">|</span> <span class="s2">&quot;down&quot;</span> <span class="o">|</span> <span class="s2">&quot;spin_average&quot;</span> <span class="o">|</span> <span class="s2">&quot;spin_difference&quot;</span> <span class="o">|</span>
                <span class="s2">&quot;user_extension1&quot;</span> <span class="o">|</span> <span class="s2">&quot;user_extension2&quot;</span> <span class="p">}</span>
</code></pre></div>
    </div>
    <div class="col-md-3 col-md-pull-9">
      <hr class="visible-xs visible-sm">
        <div class="well toc">
          <ul class="nav nav-stacked nav-pills">
            <li role="presentation" class="title"><a href='../../page/index.html'>Overview</a></li>
          </ul>
          <hr>
          <ul class="nav nav-stacked nav-pills">
            <li role="presentation">
            <a href='../../page/01_the_psml_format/index.html'>PSML description</a>
            <ul class="nav nav-stacked nav-pills">
                          <li role="presentation">
            <a href='../../page/01_the_psml_format/01_generators/index.html'>Pseudopotential generators supporting PSML</a>
            </li>
            <li role="presentation">
            <a href='../../page/01_the_psml_format/02_clients/index.html'>First-principles codes able to read PSML files</a>
            </li>
            <li role="presentation">
            <a href='../../page/01_the_psml_format/databases.html'>Databases of PSML files</a>
            </li>
            <li role="presentation" class="disabled">
            <a href='../../page/01_the_psml_format/schema.html'>Schema for PSML</a>
            </li>

            </ul>
            </li>
            <li role="presentation">
            <a href='../../page/02_library_user_guide/index.html'>libPSML User Guide</a>
            <ul class="nav nav-stacked nav-pills">
                          <li role="presentation">
            <a href='../../page/02_library_user_guide/01_installation.html'>Installation</a>
            </li>
            <li role="presentation">
            <a href='../../page/02_library_user_guide/02_api/index.html'>libPSML API</a>
            <ul class="nav nav-stacked nav-pills">
                          <li role="presentation">
            <a href='../../page/02_library_user_guide/02_api/annotations.html'>Annotations</a>
            </li>
            <li role="presentation">
            <a href='../../page/02_library_user_guide/02_api/sets.html'>Sets of potentials, projectors, and pseudo-wave-functions</a>
            </li>

            </ul>
            </li>

            </ul>
            </li>
            <li role="presentation">
            <a href='../../page/03_library_developer_notes/index.html'>Developer Notes</a>
            </li>
          </ul>
        </div>
    </div>
  </div>
      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row">
          <div class="col-xs-6 col-md-6"><p>libPSML was developed by Alberto Garcia<br>&copy; 2023 <a rel="license" href="http://www.freebsd.org/copyright/freebsd-doc-license.html">FreeBSD Documentation License</a>
</p>
          </div>
          <div class="col-xs-6 col-md-6">
            <p class="text-right">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
            </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>

    <!-- Bootstrap core JavaScript
         ================================================== -->
         <!-- Placed at the end of the document so the pages load faster -->
    <!--
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        -->
        <script src="../../js/bootstrap.min.js"></script>
        <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
        <script src="../../js/ie10-viewport-bug-workaround.js"></script>

        <!-- MathJax JavaScript
             ================================================== -->
             <!-- Placed at the end of the document so the pages load faster -->
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({
          TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
          jax: ['input/TeX','input/MathML','output/HTML-CSS'],
          extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
          });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

          <script src="../../tipuesearch/tipuesearch_content.js"></script>
          <script src="../../tipuesearch/tipuesearch_set.js"></script>
          <script src="../../tipuesearch/tipuesearch.js"></script>

  </body>
</html>